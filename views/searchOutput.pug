extends layout

block content

    
  script.
    var postcode = '#{title}';
    var lat = '#{latz}';
    var long = '#{longz}'; 
  .container.marketing  
    .row
      .searchResult.col-sm-12
        h1.searchRes
        .row
      .col-lg-12.text-left
          h2 Colour Meaning:
      .col-lg-4
          ul.list-group.mb-12
              li.list-group-item.d-flex.justify-content-between.lh-condensed
                  div
                    h6.my-0 Red
                    small.text-muted 20% over average
                  buttton.btn.btn-danger.btn-lg
      .col-lg-4
          ul.list-group.mb-12    
              li.list-group-item.d-flex.justify-content-between.lh-condensed
                  div
                    h6.my-0 Green
                    small.text-muted 20% Below average
                  buttton.btn.btn-success.btn-lg
      .col-lg-4.mb-4
          ul.list-group.mb-12    
              li.list-group-item.d-flex.justify-content-between.lh-condensed
                  div
                    h6.my-0 Amber
                    small.text-muted Close to the average
                  buttton.btn.btn-warning.btn-lg   

  .container
    .titContainer 
      a.btn.btn-primary.btn-lg#crimez(href="#" role="button" rel="crimeContainer") Crime
      a.btn.btn-primary.btn-lg#popz(href="#" role="button" rel="populationContainer") Population
      a.btn.btn-primary.btn-lg#houz(href="#" role="button"  rel="housingContainer") Housing
      a.btn.btn-primary.btn-lg#ratez(href="#" role="button" rel="ratingContainer") User Rating
     
      .crimeContainer#crimez
        .jumbotron
          h1.display-4.text-center Crime
          .widget.bg-dark
            .header.bg-info Total Crime
            .header_sub.bg-danger.hiddenDesktop
              .cont-h#brs
              .cont-h#wrd 
            .row
              .header_sub.bg-danger.col-sm-6.hiddenMobile
                .cont-h#brs.col-lg-12 
              .col-sm-6.mt-4.mb-4
                canvas#totalcrimeBRS
              .header_sub.bg-danger.col-sm-6.hiddenMobile
                .cont-h#wrd.col-lg-12 
              .col-sm-6.mt-4.mb-4 
                canvas#totalcrimeWard


          p.lead
            | Source: Bristol City Council Quality of life
            | Time Period: 2018-2019 
          .hiddenCont  
            p.lead
            | What do people living in this area think?
            p.CrimeComponent  
            hr.my-4
            .col-lg-12  
              ul.list-group.crimez
              p.lead
                | Source: Bristol City Council Quality of life
                | Time Period: 2018-2019
            hr.my-4
            h2.lead
              | Crime in the last 3 Months
              .latestCrime
            #map
            p.lead
              | Source: Police
              | Time Period: 2020
            hr.my-4  
            h2.lead
              | Crimes in all wards
            canvas#barCrime
            p.lead
              | Source: Bristol City Council Crime
              | Time Period: 2018-2019
            hr.my-4  
            p.lead
              | Crime levels in the past 3 Years
            canvas#myChart
            p.lead
              | Source: Bristol City Council Crime
              | Time Period: 2016-2019  
            
          btn.viewAll.btn-primary.btn-lg.mt-2(href="#" role="button") View More    


      .populationContainer#popz  
          .jumbotron
            h1.display-4.text-center Population
            .widget.bg-dark
              .header.bg-info Total Population
              .header_sub.bg-danger.hiddenDesktop
                .cont-h#brs
                .cont-h#wrd 
              .row
                .header_sub.bg-danger.col-sm-6.hiddenMobile
                  .cont-h#brs.col-lg-12 
                .col-sm-6.mt-4.mb-4 
                  canvas#totalpopBRS
                .header_sub.bg-danger.col-sm-6.hiddenMobile
                  .cont-h#wrd.col-lg-12 
                .col-sm-6.mt-4.mb-4 
                  canvas#totalpopWard
            p.lead
              | Source: Bristol City Council Quality of life
              | Time Period: 2018-2019 
            .hiddenCont  
              h2.lead
                | Population of this ward
              canvas#popChart  
              p.lead
                | Source: Bristol City Council Population
                | Time Period: 2012-2017 
              h2.lead
              | Population in all wards 
              //.contPopBar
                canvas#popBar
              .container-fluid
                .row
                  .col-lg-12
                     canvas#popBar(width='390', height='425')
  
              
              p.lead
                | Source: Bristol City Council Population
                | Time Period: 2012-2017 
          
            btn.viewAll.btn-primary.btn-lg.mt-2(href="#" role="button") View More    

      .housingContainer#houz
            .jumbotron
              h1.display-4.text-center Housing
              .widget.bg-dark
                .header.bg-info Total Number of Households
                .header_sub.bg-danger.hiddenDesktop
                  .cont-h#brs
                  .cont-h#wrd 
                .row
                  .header_sub.bg-danger.col-sm-6.hiddenMobile
                    .cont-h#brs.col-lg-12 
                  .col-sm-6.mt-4.mb-4 
                    canvas#totalHouseBRS
                  .header_sub.bg-danger.col-sm-6.hiddenMobile
                    .cont-h#wrd.col-lg-12   
                  .col-sm-6.mt-4.mb-4 
                    canvas#totalHouseWard

                .houseBrs
                .houseWrd

              p.lead
                | Source: Bristol City Council Census
                | Time Period: 2011-2016 
              .hiddenCont
                p.lead
                  | What do people living in this area think?
                ul.list-group.houz
                p.lead
                  | Source: Bristol City Council Quality of life
                  | Time Period: 2018-2019
                hr.my-4
                p.lead
                | Housing information
                p.CrimeComponent
                .header_sub.bg-danger.hideHousing
                  .cont-h#brs
                  .cont-h#wrd   
                hr.my-4
                .container
                  .row
                    .header_sub.bg-danger.col-lg-12.hideMobileHousing
                      .cont-h#brs.col-lg-12 
                    .col-sm-12.col-lg-6 
                      canvas#housing_ownedPieChartBRS   
                    .header_sub.bg-danger.col-lg-12.hideMobileHousing
                      .cont-h#wrd.col-lg-12 
                    .col-sm-12.col-lg-6 
                      canvas#housing_ownedPieChart

                    .header_sub.bg-danger.col-lg-12.hideMobileHousing
                      .cont-h#brs.col-lg-12 
                    .col-sm-12.col-lg-6  
                      canvas#housing_typePieChartBRS  
                    .header_sub.bg-danger.col-lg-12.hideMobileHousing
                      .cont-h#wrd.col-lg-12   
                    .col-sm-12.col-lg-6 
                      canvas#housing_typePieChart
                    
                    .header_sub.bg-danger.col-lg-12.hideMobileHousing
                      .cont-h#brs.col-lg-12 
                    .col-sm-12.col-lg-6 
                      canvas#housing_bedPieChartBRS
                    .header_sub.bg-danger.col-lg-12.hideMobileHousing
                      .cont-h#wrd.col-lg-12   
                    .col-sm-12.col-lg-6  
                      canvas#housing_bedPieChart
                    p.lead
                      | Source: Bristol City Council Household Size/ Housing Type / Housing Tenure
                      | Time Period: 2011-2016                    


                hr.my-4
                p.lead
                  | Market Acrivity in the last 12 Months
                .col-12-lg
                   ul.list-group.mb-3
                        li.list-group-item.d-flex.justify-content-between.bg-light
                            .text-info
                                h6.my-0.wr
                        li.list-group-item.d-flex.justify-content-between.lh-condensed
                            div
                                h6.my-0 Average Price Paid
                                small.text-muted
                            buttton#avgPaidPrice
                        li.list-group-item.d-flex.justify-content-between.lh-condensed
                            div
                                h6.my-0 Total Sales
                                small.text-muted
                            buttton#Sales
                        li.list-group-item.d-flex.justify-content-between.lh-condensed
                            div
                                h6.my-0 Value Change Compared to 3 Years
                                small.text-muted
                            buttton#valueChange
                        li.list-group-item.d-flex.justify-content-between.bg-light
                          .text-info
                              h6.my-0.out
                        li.list-group-item.d-flex.justify-content-between.lh-condensed
                            div
                                h6.my-0 Average Price Paid
                                small.text-muted
                            buttton#avgPaidPriceOut
                        li.list-group-item.d-flex.justify-content-between.lh-condensed
                            div
                                h6.my-0 Total Sales
                                small.text-muted
                            buttton#SalesOut
                        li.list-group-item.d-flex.justify-content-between.lh-condensed
                            div
                                h6.my-0 Value Change Compared to 3 Years
                                small.text-muted
                            buttton#valueChangeOut
                p.lead
                  | Source: Zoopla 
                  | Time Period: 2016-2019    

                hr.my-4
                p.lead
                  | Average house prices in the last 7 Years
                canvas#zooplaChart  
                p.lead
                  | Source: Zoopla 
                  | Time Period: 2016-2019    
              btn.viewAll.btn-primary.btn-lg.mt-2(href="#" role="button") View More    

      .ratingContainer#ratez
              .jumbotron
                h1.display-4.text-center User Rating
                p#dispMessage.lead
                hr
                .row
                  .col-sm-12.col-lg-6 
                    p.lead#no-rating
                    canvas#userDrivenChart
                  .col-sm-12.col-lg-6 
                    canvas#userDrivenChart1
                  .col-sm-12.col-lg-6   
                    canvas#userDrivenChart2
                hr
                if typeof userMail === 'undefined'
                  p.lead
                    | Please log in to rate this area    
                else
                  p.lead
                    | Loged in    
                  .responseForm
                    form#ratings(action="/users/rateArea" method="POST" onSubmit="event.preventDefault(); resetForm();")
                      .form-row
                      | Please answer the following Questions
                      hr    
                      .form-group.col-sm-12
                          label(for='customRadio1') Would you recommend this area for someone to move into?
                          .custom-control.custom-radio
                            input#customRadio1.custom-control-input(type='radio', name='q1' value="Yes")
                            label.custom-control-label(for='customRadio1') Yes
                          .custom-control.custom-radio
                            input#customRadio2.custom-control-input(type='radio', name='q1' value="No")
                            label.custom-control-label(for='customRadio2') No
                      hr        
                      .form-group.col-sm-12
                          label(for='customRadio3') Would you agree your area is safe?
                          .custom-control.custom-radio
                            input#customRadio3.custom-control-input(type='radio', name='q2' value="Yes")
                            label.custom-control-label(for='customRadio3') Yes
                          .custom-control.custom-radio
                            input#customRadio4.custom-control-input(type='radio', name='q2' value="No")
                            label.custom-control-label(for='customRadio4') No
                      hr  
                      .form-group.col-sm-12
                          label(for='customRadio4') Is there enoguh space for parking?
                          .custom-control.custom-radio
                            input#customRadio5.custom-control-input(type='radio', name='q3' value="Yes")
                            label.custom-control-label(for='customRadio5') Yes
                          .custom-control.custom-radio
                            input#customRadio6.custom-control-input(type='radio', name='q3' value="No")
                            label.custom-control-label(for='customRadio6') No
                            input(type="hidden" id="wardNamezHidden" name="wardName")      
                      .form-group.col-sm-12    
                          button#subUser.btn.btn-primary.float-right(type='submit') Rate Area
  script(async='', defer='', src='https://maps.googleapis.com/maps/api/js?key=AIzaSyDAglkLvUcnGUDh44kwCtqKfSrtcJBSMG0')  
  script
    include ../public/javascripts/mainFunc.js
    include ../public/javascripts/gettingFromAPI/checkPostCodeFunc.js
    include ../public/javascripts/checkPostCode.js
    include ../public/javascripts/ChartJs/sampleChart.js
    include ../public/javascripts/ChartJs/popGraph.js
    include ../public/javascripts/ChartJs/zooplaGraph.js
    include ../public/javascripts/ChartJs/housing_ownedPie.js
    include ../public/javascripts/ChartJs/housing_typePie.js
    include ../public/javascripts/ChartJs/housing_bedPie.js
    include ../public/javascripts/ChartJs/totalHouse.js
    include ../public/javascripts/ChartJs/stackedChartJs.js
    include ../public/javascripts/ChartJs/plainDonut.js
    include ../public/javascripts/ChartJs/barChart.js
    include ../public/javascripts/map/staticMap.js
